====================================================================================
				设计记录
====================================================================================


multipartFile放在参数第一个位置，一看你参数位置就知道你对框架不熟(我:???)
------------------------------------------------------
1.添加整合log4j插件(未起效)

2.完善宿管员数据表,添加新字段"电话","身份证号","注册时间","盐值","头像",并完善各字段注释;
  又新增"权限"和"是否任职"字段.

2.1.权限分为普通,高级,超级,普通宿管为默认,不限数量;高级宿管须由超级宿管亲自升级;超级宿管数量仅限一位.

2.2.高级宿管及以上可决定普通宿管是否在职(譬如请假后注销/归位后激活);超级宿管系全权账号,可以删除/任免(升降)一名普通宿管/高级宿管.

3.后台宿管员模块添加MD5盐值加密密码机制

4.前台登录增加登录前随机验证码验证功能

5.使用正则表达式等,在注册前强制规范注册资料格式:
	名字:3-10位字符;
	电话:仅准10-30位数字;
	身份证号:15位或者18位，15位时全为数字，18位前17位为数字，最后一位是校验位，可能为数字或字符X.
	
6.将身份证号设为唯一,用户名允许重复,登录账号改输入身份证号.

7.将访客登记表及住宿生列表下载导出为Excel表文件.

8.统一将自定异常封装在一个枚举中,由数字+字符串的key-value结构规划之

9.前端页面增加bootstrap框架应用比例

10.添加URL拦截器

11.- 如果权限级别为1,显示"注销/激活"操作选项;

   - 如果权限级别为2,既显示"注销/激活"按钮,还显示"删除"/"提拔"/"降级"操作选项;
   
   * ...etc

=============================================
---------------------------------------------


服务器地址+项目根路径+控制器路径,即可直访目标页面,而无需考虑"反斜杠之后末位字符串"之跳转变化规律.
---------------------------------------------


* SQL: UNIQUE 与 NOTNULL 冲突.

* ERROR 1075 (42000): Incorrect table definition; there can be only one auto column and it must be defined as a key.
错误1075（42000）：表定义不正确；只能有一个自动列，必须将其定义为键(PRIMARY KEY).

----------------------------------------------

java.lang.NullPointerException

Goto:houseparent.setRegTime(regTime);//此行错误

原因:实体序列化以后,必须要创建对象,即new Object()
----------------------------------------------

##HTML表格导出为Excel表文件

- 0.下载js插件文件:下载地址:https://github.com/rainabba/jquery-table2excel

- 1.在HTML页面引入插件:
<script type="text/javascript" src="${pageContext.request.contextPath}/js/jquery.table2excel.js"></script>


* 2.定义table的css属性 创建导出按钮

````````


<table class="table2excel">
	<tr>
		<th>生产厂家</th>
		<th>产品名称</th>
		<th>...</th>
		<th> class="noExl">操作</th>
	</tr>	
	<tr>
		<td>厂家1<td>
		<td>产品1<td>
		<td>...<td>
		<td class="noExl"><button>删除</button><button>修改</button><td>
	</tr>
	<tr>
		<td>厂家2<td>
		<td>产品2<td>
		<td>...<td>
		<td class="noExl"><button>删除</button><button>修改</button><td>
	</tr>
</table>
< !-- -- >
<table>
	<tr>
		<td>
			<input type="button" value="导出到excel中" class="btn btn-primary" onclick="table2Excel('出库信息明细.xls')"/>
		</td>
	</tr>
</table>


````````


* 3.创建table2Excel(filename)方法

```````


//fileName 导出的excel文件名
//方法可带fileName参数，亦可不带参数直接定义
function table2Excel(fileName){
	$(".table2excel").table2excel({
		exclude: ".noExl",//排除.noExl,即class="noExl"的列不导出
		name: "Excel Document Name",
		filename: fileName,//文件名称
		fileext: ".xls",//文件后缀名
		exclude_img: true,//导出图片
		exclude_links: true,//导出超链接
		exclude_inputs: true//导出输入框内容
	});
}



```````
------------------------------------------------------

================================================================
		  	 新增功能
================================================================

### 数据表

<br>

* 对宿管员之表新加了7列

------------------------------------------------------


### 宿管员模块

* 密码盐值加密机制

* 头像上传

* 修改资料

* 修改密码

* 新增高级宿管和超级宿管(仅限1名)两种角色,对全体宿管进行管理

* 高级宿管以上可注销/激活当值当班状态,而超级宿管则拥有全部权限(己身以外,注销/激活/删除/升级/降级)

* 登录前校验生成的验证码

* 利用正则,对注册时所填之数据进行了格式规范
------------------------------------------------------


### 住宿生模块和访客模块

* 修复了一些故障

* 利用正则,对登记时所填之数据进行了格式规范

* 皆新增了"将表格导出为Excel表文件"之功能.
------------------------------------------------------
### 其他方面

+ 后台

	* 将自定义业务异常统一封装于一个枚举类内,按键值对结构重载了构造器"(异常码,异常文)"

	* 在异常枚举类和工具类使用了单例模式,对其不再实例化
	
	* 新增了登录拦截器和拦截器配置类(白名单)
	
+ 前端
	
	* 引入并使用了bootstrap框架	
